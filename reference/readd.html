<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read and return a drake target/import from the cache. — readd • drake</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Read and return a drake target/import from the cache. — readd" />

<meta property="og:description" content="readd() returns an object from the cache,
and loadd() loads one or more objects from the cache
into your environment or session. These objects are usually
targets built by make()." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">drake</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">6.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/drake.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="https://ropenscilabs.github.io/drake-manual/faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/drake">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read and return a drake target/import from the cache.</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/drake/blob/master/R/read.R'><code>R/read.R</code></a></small>
    <div class="hidden name"><code>readd.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>readd()</code> returns an object from the cache,
and <code>loadd()</code> loads one or more objects from the cache
into your environment or session. These objects are usually
targets built by <code><a href='make.html'>make()</a></code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>readd</span>(<span class='no'>target</span>, <span class='kw'>character_only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/getwd'>getwd</a></span>(), <span class='kw'>search</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>cache</span> <span class='kw'>=</span> <span class='kw pkg'>drake</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/drake/topics/get_cache'>get_cache</a></span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='no'>path</span>, <span class='kw'>search</span> <span class='kw'>=</span> <span class='no'>search</span>, <span class='kw'>verbose</span> <span class='kw'>=</span>
  <span class='no'>verbose</span>), <span class='kw'>namespace</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='kw pkg'>drake</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/drake/topics/default_verbose'>default_verbose</a></span>(),
  <span class='kw'>show_source</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>loadd</span>(<span class='no'>...</span>, <span class='kw'>list</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/character'>character</a></span>(<span class='fl'>0</span>), <span class='kw'>imported_only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>path</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/getwd'>getwd</a></span>(), <span class='kw'>search</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>cache</span> <span class='kw'>=</span> <span class='kw pkg'>drake</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/drake/topics/get_cache'>get_cache</a></span>(<span class='kw'>path</span> <span class='kw'>=</span>
  <span class='no'>path</span>, <span class='kw'>search</span> <span class='kw'>=</span> <span class='no'>search</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='no'>verbose</span>), <span class='kw'>namespace</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>envir</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sys.parent'>parent.frame</a></span>(), <span class='kw'>jobs</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='kw pkg'>drake</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/drake/topics/default_verbose'>default_verbose</a></span>(), <span class='kw'>deps</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>lazy</span> <span class='kw'>=</span> <span class='st'>"eager"</span>,
  <span class='kw'>graph</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>show_source</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>tidyselect</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>target</th>
      <td><p>If <code>character_only</code> is <code>TRUE</code>, then
<code>target</code> is a character string naming the object to read.
Otherwise, <code>target</code> is an unquoted symbol with the name of the
object.</p></td>
    </tr>
    <tr>
      <th>character_only</th>
      <td><p>logical, whether <code>name</code> should be treated
as a character or a symbol
(just like <code>character.only</code> in <code><a href='https://www.rdocumentation.org/packages/base/topics/library'>library()</a></code>).</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>Root directory of the drake project,
or if <code>search</code> is <code>TRUE</code>, either the
project root or a subdirectory of the project.
Ignored if a <code>cache</code> is supplied.</p></td>
    </tr>
    <tr>
      <th>search</th>
      <td><p>logical. If <code>TRUE</code>, search parent directories
to find the nearest drake cache. Otherwise, look in the
current working directory only.
Ignored if a <code>cache</code> is supplied.</p></td>
    </tr>
    <tr>
      <th>cache</th>
      <td><p>drake cache. See <code><a href='new_cache.html'>new_cache()</a></code>.
If supplied, <code>path</code> and <code>search</code> are ignored.</p></td>
    </tr>
    <tr>
      <th>namespace</th>
      <td><p>optional character string,
name of the <code>storr</code> namespace to read from.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical or numeric, control printing to the console.
Use <code>pkgconfig</code> to set the default value of <code>verbose</code>
for your R session:
for example, <code><a href='https://www.rdocumentation.org/packages/pkgconfig/topics/set_config'>pkgconfig::set_config("drake::verbose" = 2)</a></code>.</p><ul>
<li><p><code>0</code> or <code>FALSE</code>: print nothing.</p></li>
<li><p><code>1</code> or <code>TRUE</code>: print only targets to build.</p></li>
<li><p><code>2</code>: also print checks and cache info.</p></li>
<li><p><code>3</code>: also print any potentially missing items.</p></li>
<li><p><code>4</code>: also print imports and writes to the cache.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>show_source</th>
      <td><p>logical, option to show the command
that produced the target or indicate that the object
was imported (using <code><a href='show_source.html'>show_source()</a></code>).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>targets to load from the cache: as names (symbols) or
character strings. If the <code>tidyselect</code> package is installed,
you can also supply <code>dplyr</code>-style <code>tidyselect</code>
commands such as <code>starts_with()</code>, <code>ends_with()</code>, and <code>one_of()</code>.</p></td>
    </tr>
    <tr>
      <th>list</th>
      <td><p>character vector naming targets to be loaded from the
cache. Similar to the <code>list</code> argument of <code><a href='https://www.rdocumentation.org/packages/base/topics/rm'>remove()</a></code>.</p></td>
    </tr>
    <tr>
      <th>imported_only</th>
      <td><p>logical, whether only imported objects
should be loaded.</p></td>
    </tr>
    <tr>
      <th>envir</th>
      <td><p>environment to load objects into. Defaults to the
calling environment (current workspace).</p></td>
    </tr>
    <tr>
      <th>jobs</th>
      <td><p>number of parallel jobs for loading objects. On
non-Windows systems, the loading process for multiple objects
can be lightly parallelized via <code><a href='https://www.rdocumentation.org/packages/parallel/topics/mclapply'>parallel::mclapply()</a></code>.
just set jobs to be an integer greater than 1. On Windows,
<code>jobs</code> is automatically demoted to 1.</p></td>
    </tr>
    <tr>
      <th>deps</th>
      <td><p>logical, whether to load any cached
dependencies of the targets
instead of the targets themselves.
This is useful if you know your
target failed and you want to debug the command in an interactive
session with the dependencies in your workspace.
One caveat: to find the dependencies,
<code>loadd()</code> uses information that was stored
in a <code><a href='drake_config.html'>drake_config()</a></code> list and cached
during the last <code><a href='make.html'>make()</a></code>.
That means you need to have already called <code><a href='make.html'>make()</a></code>
if you set <code>deps</code> to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>lazy</th>
      <td><p>either a string or a logical. Choices:</p><ul>
<li><p><code>"eager"</code>: no lazy loading. The target is loaded right away
with <code><a href='https://www.rdocumentation.org/packages/base/topics/assign'>assign()</a></code>.</p></li>
<li><p><code>"promise"</code>: lazy loading with <code><a href='https://www.rdocumentation.org/packages/base/topics/delayedAssign'>delayedAssign()</a></code></p></li>
<li><p><code>"bind"</code>: lazy loading with active bindings:
<code><a href='https://www.rdocumentation.org/packages/bindr/topics/create_env'>bindr::populate_env()</a></code>.</p></li>
<li><p><code>TRUE</code>: same as <code>"promise"</code>.</p></li>
<li><p><code>FALSE</code>: same as <code>"eager"</code>.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>graph</th>
      <td><p>optional igraph object, representation
of the workflow network for getting dependencies
if <code>deps</code> is <code>TRUE</code>. If none is supplied,
it will be read from the cache.</p></td>
    </tr>
    <tr>
      <th>replace</th>
      <td><p>logical. If <code>FALSE</code>,
items already in your environment
will not be replaced.</p></td>
    </tr>
    <tr>
      <th>tidyselect</th>
      <td><p>logical, whether to enable
<code>tidyselect</code> expressions in <code>...</code> like
<code>starts_with("prefix")</code> and <code>ends_with("suffix")</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The cached value of the <code>target</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>There are two uses for the
<code>loadd()</code> and <code>readd()</code> functions:</p><ol>
<li><p>Exploring the results outside the <code>drake</code>/<code><a href='make.html'>make()</a></code> pipeline.
When you call <code><a href='make.html'>make()</a></code> to run your project,
<code>drake</code> puts the targets in a cache, usually a folder called <code>.drake</code>.
You may want to inspect the targets afterwards, possibly in an
interactive R session. However, the files in the <code>.drake</code> folder
are organized in a special format created by the
<a href='https://github.com/richfitz/storr'>storr</a> package,
which is not exactly human-readable.
To retrieve a target for manual viewing, use <code>readd()</code>.
To load one or more targets into your session, use <code>loadd()</code>.</p></li>
<li><p>In <code>knitr</code> / R Markdown reports.
You can borrow <code>drake</code> targets in your active code chunks
if you have the right calls to <code>loadd()</code> and <code>readd()</code>.
These reports can either run outside the <code>drake</code> pipeline,
or better yet, as part of the pipeline itself.
If you call <code><a href='knitr_in.html'>knitr_in("your_report.Rmd")</a></code> inside a <code><a href='drake_plan.html'>drake_plan()</a></code>
command, then <code><a href='make.html'>make()</a></code> will scan <code>"your_report.Rmd"</code> for
calls to <code>loadd()</code> and <code>readd()</code> in active code chunks,
and then treat those loaded targets as dependencies.
That way, <code><a href='make.html'>make()</a></code> will automatically (re)run the report if those
dependencies change.</p></li>
</ol>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Please do not put calls to <code>loadd()</code> or <code>readd()</code> inside
your custom (imported) functions or the commands in your <code><a href='drake_plan.html'>drake_plan()</a></code>.
This creates confusion inside <code><a href='make.html'>make()</a></code>, which has its own ways of
interacting with the cache.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='cached.html'>cached()</a></code>, <code><a href='built.html'>built()</a></code>, <code><a href='imported.html'>imported()</a></code>, <code><a href='drake_plan.html'>drake_plan()</a></code>, <code><a href='make.html'>make()</a></code></p>
<p><code><a href='cached.html'>cached()</a></code>, <code><a href='built.html'>built()</a></code>, <code><a href='imported.html'>imported()</a></code>, <code><a href='drake_plan.html'>drake_plan()</a></code>, <code><a href='make.html'>make()</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'><a href='test_with_dir.html'>test_with_dir</a></span>(<span class='st'>"Quarantine side effects."</span>, {
<span class='fu'><a href='load_mtcars_example.html'>load_mtcars_example</a></span>() <span class='co'># Get the code with drake_example("mtcars").</span>
<span class='fu'><a href='make.html'>make</a></span>(<span class='no'>my_plan</span>) <span class='co'># Run the project, build the targets.</span>
<span class='fu'>readd</span>(<span class='no'>reg1</span>) <span class='co'># Return imported object 'reg1' from the cache.</span>
<span class='fu'>readd</span>(<span class='no'>small</span>) <span class='co'># Return targets 'small' from the cache.</span>
<span class='fu'>readd</span>(<span class='st'>"large"</span>, <span class='kw'>character_only</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) <span class='co'># Return 'large' from the cache.</span>
<span class='co'># For external files, only the fingerprint/hash is stored.</span>
<span class='fu'>readd</span>(<span class='fu'><a href='file_store.html'>file_store</a></span>(<span class='st'>"report.md"</span>), <span class='kw'>character_only</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
})
<span class='co'># }</span><span class='co'># NOT RUN {</span>
<span class='fu'><a href='test_with_dir.html'>test_with_dir</a></span>(<span class='st'>"Quarantine side effects."</span>, {
<span class='fu'><a href='load_mtcars_example.html'>load_mtcars_example</a></span>() <span class='co'># Get the code with drake_example("mtcars").</span>
<span class='fu'><a href='make.html'>make</a></span>(<span class='no'>my_plan</span>) <span class='co'># Run the projects, build the targets.</span>
<span class='fu'>loadd</span>(<span class='no'>small</span>) <span class='co'># Load target 'small' into your workspace.</span>
<span class='no'>small</span>
<span class='co'># For many targets, you can parallelize loadd()</span>
<span class='co'># using the 'jobs' argument.</span>
<span class='fu'>loadd</span>(<span class='kw'>list</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"small"</span>, <span class='st'>"large"</span>), <span class='kw'>jobs</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ls'>ls</a></span>()
<span class='co'># Load the dependencies of the target, coef_regression2_small</span>
<span class='fu'>loadd</span>(<span class='no'>coef_regression2_small</span>, <span class='kw'>deps</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ls'>ls</a></span>()
<span class='co'># Load all the imported objects/functions.</span>
<span class='co'># Note: loadd() excludes foreign imports</span>
<span class='co'># (R objects not originally defined in `envir`</span>
<span class='co'># when `make()` last imported them).</span>
<span class='fu'>loadd</span>(<span class='kw'>imported_only</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ls'>ls</a></span>()
<span class='co'># Load all the targets listed in the workflow plan</span>
<span class='co'># of the previous `make()`.</span>
<span class='co'># Be sure your computer has enough memory.</span>
<span class='fu'>loadd</span>()
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ls'>ls</a></span>()
<span class='co'># With files, you just get the fingerprint.</span>
<span class='fu'>loadd</span>(<span class='kw'>list</span> <span class='kw'>=</span> <span class='fu'><a href='file_store.html'>file_store</a></span>(<span class='st'>"report.md"</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ls'>ls</a></span>() <span class='co'># Should include "\"report.md\"".</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/get'>get</a></span>(<span class='fu'><a href='file_store.html'>file_store</a></span>(<span class='st'>"report.md"</span>))
})
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by William Michael Landau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

